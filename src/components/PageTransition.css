/* Header Logo - Transition Animation */
.header-logo {
  width: 32px;
  height: 32px;
  flex-shrink: 0;
}

/* Triangle paths - idle state (fully drawn, subtle) */
.header-logo__triangle {
  stroke: var(--color-text-primary);
  stroke-dasharray: 200;
  stroke-dashoffset: 0;
  stroke-opacity: 0.25;
  transition: 
    stroke-dashoffset 0.35s cubic-bezier(0.4, 0, 0.2, 1),
    stroke-opacity 0.3s ease;
}

/* Main triangle */
.header-logo__triangle--main {
  stroke-opacity: 0.3;
}

/* Secondary triangle */
.header-logo__triangle--secondary {
  stroke-dasharray: 150;
  stroke-opacity: 0.2;
}

/* Inner triangle */
.header-logo__triangle--inner {
  stroke-dasharray: 100;
  stroke-opacity: 0.15;
}

/* Center dot - idle state */
.header-logo__dot {
  fill: var(--color-text-primary);
  stroke: var(--color-text-primary);
  opacity: 0.2;
  transform-origin: 32px 38px;
}

/* ===== ACTIVE STATE - Page Transitioning ===== */

/* Draw animation - triangles draw from scratch */
.header-logo--active .header-logo__triangle {
  stroke-dashoffset: 200;
  stroke-opacity: 1;
  animation: draw-triangle 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.header-logo--active .header-logo__triangle--main {
  animation-delay: 0s;
}

.header-logo--active .header-logo__triangle--secondary {
  stroke-dashoffset: 150;
  animation: draw-triangle-secondary 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  animation-delay: 0.08s;
}

.header-logo--active .header-logo__triangle--inner {
  stroke-dashoffset: 100;
  animation: draw-triangle-inner 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  animation-delay: 0.16s;
}

/* Dot animation */
.header-logo--active .header-logo__dot {
  animation: dot-pulse 0.6s ease-in-out forwards;
}

/* Keyframe animations */
@keyframes draw-triangle {
  0% {
    stroke-dashoffset: 200;
    stroke-opacity: 1;
  }
  60% {
    stroke-dashoffset: 0;
    stroke-opacity: 1;
  }
  100% {
    stroke-dashoffset: 0;
    stroke-opacity: 0.3;
  }
}

@keyframes draw-triangle-secondary {
  0% {
    stroke-dashoffset: 150;
    stroke-opacity: 0.8;
  }
  60% {
    stroke-dashoffset: 0;
    stroke-opacity: 0.8;
  }
  100% {
    stroke-dashoffset: 0;
    stroke-opacity: 0.2;
  }
}

@keyframes draw-triangle-inner {
  0% {
    stroke-dashoffset: 100;
    stroke-opacity: 0.6;
  }
  60% {
    stroke-dashoffset: 0;
    stroke-opacity: 0.6;
  }
  100% {
    stroke-dashoffset: 0;
    stroke-opacity: 0.15;
  }
}

@keyframes dot-pulse {
  0% {
    opacity: 0.2;
    transform: scale(1);
  }
  20% {
    opacity: 1;
    transform: scale(1.4);
  }
  40% {
    transform: scale(0.9);
  }
  60% {
    opacity: 1;
    transform: scale(1.2);
  }
  100% {
    opacity: 0.2;
    transform: scale(1);
  }
}

/* Subtle scale on the whole logo */
.header-logo--active {
  animation: logo-breathe 0.6s ease-out forwards;
}

@keyframes logo-breathe {
  0% {
    transform: scale(1);
  }
  30% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
  }
}
